<!doctype html>
<html lang = "en">
    <head>
        <title> Swimming Analytics </title>
    </head>
    <body>

        <h1> Swimming Analytics</h1>

        <br></b><a href=file:///C:/Users/mkond/OneDrive/Desktop/Swimming-analytics/User%20info.html?fname=&lname=&age=>
            <button> Previous </button>

        <script>
            const queryString = window.location.search;
            console.log(queryString);

            const urlParams = new URLSearchParams(queryString);

            const fname = urlParams.get("fname")
            console.log(fname);
            const lname = urlParams.get("lname")
            console.log(lname);
            const age = urlParams.get("age")
            console.log(age);
            const state = urlParams.get("state")
            console.log(state);
            const distance = urlParams.get("distance")
            console.log(distance);
            const stroke = urlParams.get("stroke")
            console.log(stroke);
            const time = urlParams.get("time")
            console.log(time);
            const pool = urlParams.get("pool")
            console.log(pool);

            var hms = time;
            var a = hms.split(':');
            var seconds = (+a[0]) * 60 + (+a[1]); 

            if(pool == "SCY"){
                if(distance == "50"){
                    if(stroke == "free"){
                        newTime = seconds * 1.11 + 0.80
                        console.log(newTime);
                    }
                }
                else if(distance == "100"){
                    if(stroke == "fly"){
                        newTime = time * 1.11 + 1.4
                        console.log(newTime);
                    }
                    else if(stroke == "back"){
                        newTime = time * 1.11 + 1.2
                        console.log(newTime);
                    }   
                    else if(stroke == "breast"){
                        newTime = time * 1.11 + 2.0
                        console.log(newTime);
                    }
                    else if(stroke == "free"){
                        newTime = time * 1.11 + 1.6
                        console.log(newTime);
                    }
                }
            }

            else if(pool == "LCM"){
                if(distance == "50"){
                    if(stroke == "free"){
                        newTime = (time - 0.80) / 1.11
                        console.log(newTime);
                    }
                }
                else if(distance ==  "100"){
                    if(stroke == "fly"){
                        newTime = (time - 1.4) / 1.11
                        console.log(newTime);
                    }
                    else if(stroke == "back"){
                        newTime = (time - 1.2) / 1.11
                        console.log(newTime);
                    }
                    else if(stroke == "breast"){
                        newTime = (time - 2.0) / 1.11
                        console.log(newTime);
                    }
                    else if(stroke == "free"){
                        newTime = (time - 1.6) / 1.11
                        console.log(newTime);
                    }
                }
            }
            var minutes = Math.floor(newTime / 60);
            var seconds = newTime - minutes * 60;
            function str_pad_left(string,pad,length) {
                return (new Array(length+1).join(pad)+string).slice(-length);
            }

            var finalTime = str_pad_left(minutes,'0',2)+':'+str_pad_left(seconds,'0',2);
            console.log(finalTime)
        </script>

    </body>
</html>