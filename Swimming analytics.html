<!doctype html>
<html lang = "en">
    <head>
        <title> Swimming Analytics </title>
    </head>
    <body>

        <h1> Swimming Analytics</h1>

        <script>
            const queryString = window.location.search;
            console.log(queryString);

            const urlParams = new URLSearchParams(queryString);

            const fname = urlParams.get("fname")
            console.log(fname);
            const lname = urlParams.get("lname")
            console.log(lname);
            const age = urlParams.get("age")
            console.log(age);
            const state = urlParams.get("state")
            console.log(state);
            const distance = urlParams.get("distance")
            console.log(distance);
            const stroke = urlParams.get("stroke")
            console.log(stroke);
            const time = urlParams.get("time")
            console.log(time);
            const pool = urlParams.get("pool")
            console.log(pool);

            var hms = time;
            var a = hms.split(':');
            var sec = (+a[0]) * 60 + (+a[1]); 

            if(pool == "SCY"){
                if(distance == "50"){
                    if(stroke == "free"){
                        newTime = sec * 1.11 + 0.80
                        console.log(newTime);
                    }
                }
                else if(distance == "100"){
                    if(stroke == "fly"){
                        newTime = sec * 1.11 + 1.4
                        console.log(newTime);
                    }
                    else if(stroke == "back"){
                        newTime = sec * 1.11 + 1.2
                        console.log(newTime);
                    }   
                    else if(stroke == "breast"){
                        newTime = sec * 1.11 + 2.0
                        console.log(newTime);
                    }
                    else if(stroke == "free"){
                        newTime = sec * 1.11 + 1.6
                        console.log(newTime);
                    }
                }
                else if(distance == "200"){
                    if(stroke == "fly"){
                        newTime = sec * 1.11 + 2.8
                        console.log(newTime);
                    }
                    else if(stroke == "back"){
                        newTime = sec * 1.11 + 2.4
                        console.log(newTime);
                    }   
                    else if(stroke == "breast"){
                        newTime = sec * 1.11 + 4.0
                        console.log(newTime);
                    }
                    else if(stroke == "free"){
                        newTime = sec * 1.11 + 3.2
                        console.log(newTime);
                    }
                }
                else if(distance == "500"){
                    if(stroke == "free"){
                        newTime = sec * 0.8925 + 6.4
                        console.log(newTime);
                    }
                }
                else if(distance == "1000"){
                    if(stroke == "free"){
                        newTime = sec * 0.8925 + 12.8
                        console.log(newTime);
                    }
                }
                else if(distance == "1650"){
                    if(stroke == "free"){
                        newTime = sec * 0.8925 + 24.0
                        console.log(newTime);
                    }
                }
            }

            else if(pool == "LCM"){
                if(distance == "50"){
                    if(stroke == "free"){
                        newTime = (sec - 0.80) / 1.11
                        console.log(newTime);
                    }
                }
                else if(distance ==  "100"){
                    if(stroke == "fly"){
                        newTime = (sec - 1.4) / 1.11
                        console.log(newTime);
                    }
                    else if(stroke == "back"){
                        newTime = (sec - 1.2) / 1.11
                        console.log(newTime);
                    }
                    else if(stroke == "breast"){
                        newTime = (sec - 2.0) / 1.11
                        console.log(newTime);
                    }
                    else if(stroke == "free"){
                        newTime = (sec - 1.6) / 1.11
                        console.log(newTime);
                    }
                }
                else if(distance ==  "200"){
                    if(stroke == "fly"){
                        newTime = (sec - 2.8) / 1.11
                        console.log(newTime);
                    }
                    else if(stroke == "back"){
                        newTime = (sec - 2.4) / 1.11
                        console.log(newTime);
                    }
                    else if(stroke == "breast"){
                        newTime = (sec - 4.0) / 1.11
                        console.log(newTime);
                    }
                    else if(stroke == "free"){
                        newTime = (sec - 3.2) / 1.11
                        console.log(newTime);
                    }
                }
                else if(distance == "500"){
                    if(stroke == "free"){
                        newTime = (sec - 6.4) / 0.8925 
                        console.log(newTime);
                    }
                }
                else if(distance == "1000"){
                    if(stroke == "free"){
                        newTime = (sec - 12.8) / 0.8925
                        console.log(newTime);
                    }
                }
                else if(distance == "1650"){
                    if(stroke == "free"){
                        newTime = (sec - 24.0) / 0.8925
                        console.log(newTime);
                    }
                }
            }
            var seconds = newTime;
            var hoursLeft = Math.floor(seconds / 3600);
            var min = Math.floor((seconds - hoursLeft * 3600) / 60);
            var secondsLeft = seconds - hoursLeft * 3600 - min * 60;
            secondsLeft = Math.round(secondsLeft * 100) / 100;
            var finalTime = hoursLeft< 10 ? "0" + hoursLeft : hoursLeft;
            finalTime += ":" + (min < 10 ? "0" + min : min);
            finalTime += ":" + (secondsLeft< 10 ? "0" + secondsLeft : secondsLeft);
            console.log(finalTime);

            document.write("Your time converted is " + finalTime);
            
        </script>

        <br><br></b><a href=file:///C:/Users/mkond/OneDrive/Desktop/Swimming-analytics/User%20info.html?fname=&lname=&age=>
        <button> Previous </button>

    </body>
</html>